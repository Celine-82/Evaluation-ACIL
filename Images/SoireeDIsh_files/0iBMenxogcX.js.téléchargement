if (self.CavalryLogger) { CavalryLogger.start_js(["fjf9fqB"]); }

__d("MEventChecklist",["DOM","Event","Stratcom"],(function(a,b,c,d,e,f,g){function a(a){var b=d("DOM").find(a,"input","checkmark"),e=c("Event").listen(a,"click",function(a){b.checked=!b.checked,a.prevent(),b.click()}),f=c("Stratcom").listen("m:page:unload",null,function(){f.remove(),e.remove()})}g.setupListener=a}),98);
__d("MEventInviteSectionSync",["CSS","DOM","Stratcom"],(function(a,b,c,d,e,f){a={_updateSuggested:function(a){this._updateList(a),this._updateSection(a.value,!a.checked,this._all,"all_")},_updateAll:function(a){this._updateList(a),this._updateSection(a.value,!a.checked,this._suggestions,"suggested_")},updateSearch:function(a){this._updateList(a),this._updateSection(a.value,!a.checked,this._suggestions,"suggested_"),this._updateSection(a.value,!a.checked,this._all,"all_")},getStatus:function(a){return this._checklist.indexOf(a)<0?!1:!0},isDisabled:function(a){return this._disablelist.indexOf(a)<0?!1:!0},_updateList:function(a){!a.checked?this._checklist.push(a.value):this._checklist.splice(this._checklist.indexOf(a.value),1)},_updateSection:function(a,c,d,e){d=b("DOM").scry(d,"div",e+a);if(!d.length)return;e=b("DOM").find(d[0],"input","checkmark");if(!e)return;e.checked=c},_appendSection:function(a,c){b("DOM").scry(a,"input","checkmark").forEach(function(a){var d=b("DOM").listen(a,"click",null,function(){c(a)}),e=b("Stratcom").listen("m:page:unload",null,function(){e.remove(),d.remove()})})},checkSuggested:function(a){this._checklist.forEach(function(a){this._updateSection(a,!0,this._suggestions,"suggested_")}.bind(this)),this._appendSection(a,this._updateSuggested.bind(this))},checkAll:function(a){this._checklist.forEach(function(a){this._updateSection(a,!0,this._all,"all_")}.bind(this)),this._appendSection(a,this._updateAll.bind(this))},resetList:function(){this._checklist.forEach(function(a){this._updateSection(a,!1,this._all,"all_"),this._updateSection(a,!1,this._suggestions,"suggested_")}.bind(this)),this._checklist=[]},getList:function(){return this._checklist},disableList:function(){this._disablelist=this._disablelist.concat(this._checklist),this.resetList(),this._cleanSuggestion()},_cleanSuggestion:function(){var a=b("DOM").scry(this._suggestions,"div","suggested_item");a.length||b("CSS").hide(this._suggestionHeader)},init:function(a,b,c){this._checklist=[],this._disablelist=[],this._listener=[],this._suggestions=a,this._all=b,this._suggestionHeader=c,this._appendSection(this._suggestions,this._updateSuggested.bind(this)),this._appendSection(this._all,this._updateAll.bind(this))}};e.exports=a}),null);
__d("MEventChecklistSource",["cx","CSS","DOM","MEventChecklist","MEventInviteSectionSync","MTypeaheadTouchSource","Stratcom","createDeprecatedProperties"],(function(a,b,c,d,e,f,g,h){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.createNode=function(a){var b=[],e=c("DOM").create("i",{className:"darkTouch l img profpic",style:{background:"#d8dce6 no-repeat center","background-size":"100% 100%","-webkit-background-size":"100% 100%",width:"48px",height:"48px",backgroundImage:"url("+a.photo+")"}});c("CSS").addClass(e,"_1aj5");b.push(e);e=c("DOM").create("div",{className:"_4mo"},c("DOM").create("strong",a.name));var f=c("DOM").create("div",{className:"_4mp"},a.subtitle);e=c("DOM").create("div",{className:"c"},[e,f]);c("CSS").addClass(e,"_4mn");b.push(e);f=[];var g=c("DOM").create("input",{type:"checkbox",value:a.id,sigil:"checkmark",checked:c("MEventInviteSectionSync").getStatus(a.id.toString())});f.push(g);var h=c("DOM").listen(g,"click",null,function(){c("MEventInviteSectionSync").updateSearch(g)}),i=c("Stratcom").listen("m:page:unload",null,function(){i.remove(),h.remove()});e=c("DOM").create("div");c("CSS").addClass(e,"_5f26");f.push(e);e=c("DOM").create("div",f);c("CSS").addClass(e,"_5s61");c("CSS").addClass(e,"_5f2b");f=c("DOM").create("div",e);c("CSS").addClass(f,"_55wr");c("CSS").addClass(f,"_4g33");c("CSS").addClass(f,"_52we");c("CSS").addClass(f,"_5f2a");e=c("DOM").create("label",{className:"ext touchable"},f);c("CSS").addClass(e,"_5f25");c("CSS").addClass(e,"_4mq");c("CSS").addClass(e,"_5f28");b.push(e);f=c("DOM").create("div",{className:"ib cc"},b);c("CSS").addClass(f,"_1aj4");d("MEventChecklist").setupListener(f);e=c("DOM").create("a",{name:a.name,className:"primary touchable",sigil:"touchable typeahead-result",rel:a.id},f);b=c("DOM").create("div",{className:"item acw abt",id:a.id},[e]);c("CSS").addClass(b,"_cs2");c("CSS").conditionClass(b,"_awx",a.disabled||c("MEventInviteSectionSync").isDisabled(a.id.toString()));return b};return b}(c("MTypeaheadTouchSource"));c("createDeprecatedProperties")(a,{transformer:function(a){return{name:a.text,uri:a.path,id:a.uid,photo:a.photo,disabled:a.disabled,subtitle:a.subtitle,display:a.display||a.text}}});f.exports=a}),34);
__d("MEventInviteConfirmation.react",["cx","fbt","MBlockButton.react","MDialog.react","MLoadingSpinner.react","MXUIDiv.react","formatNumber","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showDialog:!0},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.getMessage=function(){var a=this.props.numberOfInvitesSent===null;if(a)return;else return i._(/*FBT_CALL*/{"*":"{number} invitations envoy\u00e9es.","_1":"Envoyer 1 invitation."}/*FBT_CALL*/,[i._plural(this.props.numberOfInvitesSent,"number",c("formatNumber")(this.props.numberOfInvitesSent))])};d.render=function(){var a=this,b=this.props.numberOfInvitesSent===null;return j.jsx(c("MDialog.react"),{shown:this.state.showDialog,children:j.jsxs(c("MXUIDiv.react"),{children:[j.jsxs(c("MXUIDiv.react"),{className:"_2ph_",style:{textAlign:"center"},children:[j.jsxs(c("MXUIDiv.react"),{hidden:b,children:[" ",this.getMessage()," "]}),j.jsx(c("MXUIDiv.react"),{hidden:!b,children:j.jsx(c("MLoadingSpinner.react"),{})})]}),j.jsx(c("MXUIDiv.react"),{className:"_2ph_",hidden:b,children:j.jsx(c("MBlockButton.react"),{label:i._(/*FBT_CALL*/"OK"/*FBT_CALL*/),use:"primary",size:"medium",onClick:function(){return a.setState({showDialog:!1})}})})]})})};return b}(j.Component);g["default"]=a}),98);
__d("MEventPublicPermalinkInvite",["$","DOM","EventActionContext","EventsActionsLogger","FW","MAjaxify","MEventInviteConfirmation.react","MEventInviteSectionSync","MModalDialog","MRequest","MURI","ReactDOMLegacy_DEPRECATED","Stratcom","URI","gkx","react"],(function(a,b,c,d,e,f){var g,h,i=g||b("react"),j="share-in-newsfeed",k="share-in-a-private-message-button",l="/sharer-dialog.php",m="share-on-whatsapp";a={init:function(a){this._isOpen=!1;this._listeners=[];this._eventId=a.eventId;this._acontext=a.acontext;this._tagger=null;this._form=null;this._typeahead=null;this._textarea=null;this._feedbackDialogContainer=null;if(!window.FW_ENABLED){var c;this._tagger=a.tagger;this._listeners.push(b("DOM").listen(this._tagger,"click",null,this._handleClick.bind(this)));this._listeners.push((c=b("Stratcom")).listen("click","event-permalink-invite-button",this._openFriendsTagger.bind(this)));this._listeners.push(c.listen("click",j,this.shareInNewsfeed.bind(this)));this._listeners.push(c.listen("click",k,this.sendAsMessage.bind(this)));this._listeners.push(c.listen("click",m,this.shareOnWhatsApp.bind(this)));a.isError&&this._listeners.push(b("Stratcom").listen("click","error-message",this._returnFromErrorMessage.bind(this)))}else this._excludeIds=a.excludeIds,this._listeners.push(b("Stratcom").listen("click","event-permalink-invite-button",this._openNativeTagger.bind(this)));this._listeners.push(b("Stratcom").listen("m:page:unload",null,this._cleanup.bind(this)))},setForm:function(a,b){this._form=a,this._invitee=b},setTypeahead:function(a){this._typeahead=a},setTextarea:function(a){this._textarea=a},_returnFromErrorMessage:function(){b("DOM").hide(this._tagger),b("DOM").show(b("$")("viewport"))},_handleClick:function(a){a.getNode("cancel_with_tagger")?(this._closeFriendsTagger(),b("MEventInviteSectionSync").resetList()):a.getNode("submit_with_tagger")&&this._submit()},_openFeedbackDialog:function(a){a===void 0&&(a=null),!this._feedbackDialogContainer?this._feedbackDialogContainer=b("DOM").create("div"):b("ReactDOMLegacy_DEPRECATED").unmountComponentAtNode(this._feedbackDialogContainer),b("ReactDOMLegacy_DEPRECATED").render(i.jsx(b("MEventInviteConfirmation.react"),{numberOfInvitesSent:a}),this._feedbackDialogContainer)},_submit:function(){var a=this;this._closeFriendsTagger();this._form&&(this._invitee&&(this._invitee.value=b("MEventInviteSectionSync").getList(),this._invitee.value&&b("gkx")("854745")&&this._openFeedbackDialog()),b("gkx")("854745")?b("MAjaxify").form(null,this._form,null,"nocache",null,!1,[{response:function(b){a._invitee.value&&a._openFeedbackDialog(a._invitee.value.split(",").length)}}]):b("MAjaxify").form(null,this._form,null,"nocache",null,!1))},_openFriendsTagger:function(){this._isOpen=!0,b("DOM").hide(b("$")("viewport")),b("DOM").show(this._tagger)},_openNativeTagger:function(){b("FW").showFriendPicker(this._handleFriendsSelectedNative.bind(this),null,this._excludeIds)},_handleFriendsSelectedNative:function(a){a.action=="didPickFriends"&&this._submitInvites(a.pickedFriends)},_submitInvites:function(a){if(a.length===0)return;var c=new(b("MURI"))("/a/events/invite").addQueryData({id:this._eventId,acontext:this._acontext});c=new(b("MRequest"))(c);c.addData({users_with:a.join(",")});b("MAjaxify").ajaxify(null,this._root,c);this._excludeIds=this._excludeIds.concat(a)},_closeFriendsTagger:function(){this._isOpen=!1,b("DOM").show(b("$")("viewport")),b("DOM").hide(this._tagger),this._typeahead&&this._typeahead.clearText(),this._textarea.blur()},_cleanup:function(){this._listeners.forEach(function(a){a.remove()}),this._listeners=[],this._tagger&&b("DOM").remove(this._tagger)},shareInNewsfeed:function(){b("MModalDialog").init(),b("MModalDialog").open(new(h||(h=b("URI")))(l).setQueryData({sid:this._eventId,m:"self"}).toString())},sendAsMessage:function(){b("MModalDialog").init(),b("MModalDialog").open(new(h||(h=b("URI")))(l).setQueryData({sid:this._eventId,m:"message"}).toString())},shareOnWhatsApp:function(){var a;(a=b("EventsActionsLogger")).log(this._eventId,{type:a.Type.CLICK,target:a.Target.SHARE_ON_WHATSAPP,acontext:b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:a.Surface.PERMALINK,mechanism:a.Mechanism.COMBINED_SHARESHEET})})}};e.exports=a}),null);
__d("MEventSearchBar",["DOM","Stratcom","Typeahead"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){var f;f=a.call(this,b,d)||this;f.$MEventSearchBar1=e;f.$MEventSearchBar2=d;var g=f.listen("show",function(a){a&&f.$MEventSearchBar1&&c("DOM").hide(f.$MEventSearchBar1)}),h=f.listen("hide",function(){this.$MEventSearchBar1&&c("DOM").show(this.$MEventSearchBar1)}.bind(babelHelpers.assertThisInitialized(f))),i=f.listen("choose",function(){var a=c("Stratcom").context();a&&a.prevent()}),j=f.listen("blur",function(a){a.prevent()}),k=c("Stratcom").listen("m:page:unload",null,function(){g.remove(),h.remove(),i.remove(),j.remove(),k.remove(),this.removeListener()}.bind(babelHelpers.assertThisInitialized(f)));return f}var d=b.prototype;d.clearText=function(){this.$MEventSearchBar2.value="",this.refresh()};return b}(c("Typeahead"));g["default"]=a}),98);
__d("MEventInviteSearch",["MEventChecklistSource","MEventPublicPermalinkInvite","MEventSearchBar"],(function(a,b,c,d,e,f){a=function(a,c,d,e){a=new(b("MEventSearchBar"))(a,c,d);c=new(b("MEventChecklistSource"))(e.src,e.source_key);a.setDatasource(c);a.start();b("MEventPublicPermalinkInvite").setTypeahead(a)};f.initTypeahead=a}),null);
__d("MSavedCustomSearchBar",["Stratcom","Typeahead"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this,b,d)||this;var f=e.listen("choose",function(){var a=c("Stratcom").context();a&&a.prevent()}),g=e.listen("blur",function(a){a.prevent()}),h=e.listen("show",function(a){c("Stratcom").invoke("saved-custom-search-show-results",null,{resultCount:a.show.length})}),i=c("Stratcom").listen("search-cancel","*",function(){e.hide()}),j=c("Stratcom").listen("m:page:unload",null,function(){f.remove(),g.remove(),i.remove(),h.remove(),j.remove()});return e}return b}(c("Typeahead"));g["default"]=a}),98);
__d("MSavedCustomTouchSource",["cx","CSS","DOM","MEventChecklist","MSavedCustomAudienceSelectorStore","MTypeaheadTouchSource","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b,c)||this;b.$MSavedCustomTouchSource1=d;return b}var e=b.prototype;e.getType=function(){return this.$MSavedCustomTouchSource1};e.createNode=function(a){var b=[],e=d("DOM").create("i",{className:"img profpic",style:{background:"#d8dce6 no-repeat center","background-size":"100% 100%","-webkit-background-size":"100% 100%",width:"32px",height:"32px",backgroundImage:"url("+a.photo+")"}});e=d("DOM").create("div",{className:"_5f29 _5s61"},e);b.push(e);e=d("DOM").create("div",{className:"_4mo"},d("DOM").create("strong",a.name));var f=d("DOM").create("div",{className:"_4mp"},a.subtitle);e=d("DOM").create("div",{className:"c"},[e,f]);c("CSS").addClass(e,"_4g34");b.push(e);f=[];e=d("DOM").create("input",{type:"checkbox",value:a.id,sigil:"checkmark",checked:d("MSavedCustomAudienceSelectorStore").getInstance(c("nullthrows")(this.getType())).isSelected(a.id.toString())});f.push(e);e=d("DOM").create("div",{className:"_5f26"});f.push(e);e=d("DOM").create("div",{className:"_5s61 _5f2b"},f);b.push(e);f=d("DOM").create("div",{className:"_55wr _4g33 _52we _5f2a _5xou"},b);e=d("DOM").create("label",{className:"_5f25 _asq _skt"},f);b=d("DOM").create("a",{name:a.name,className:"primary touchable",sigil:"touchable typeahead-result",rel:a.id},e);f=d("DOM").create("div",{},b);d("MEventChecklist").setupListener(f);return f};return b}(c("MTypeaheadTouchSource"));g["default"]=a}),98);
__d("MSavedCustomTypeahead",["MSavedCustomSearchBar","MSavedCustomTouchSource"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=new(c("MSavedCustomSearchBar"))(a,b);b=new(c("MSavedCustomTouchSource"))(d.src,d.key,e);a.setDatasource(b);a.start()}g.initTypeahead=a}),98);