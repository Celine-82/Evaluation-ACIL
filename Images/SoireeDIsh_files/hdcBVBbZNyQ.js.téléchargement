if (self.CavalryLogger) { CavalryLogger.start_js(["f937JCg"]); }

__d("MEventLoadingOverlay",["cx","CSS","MContextualThing","MParent","Stratcom","isFalsey"],(function(a,b,c,d,e,f,g,h){var i=function(){function a(a,b,d){var e=this;this.$4=!1;this.$5=function(a){a=a.getTarget();if(!a||e.$7(a))return;e.$4?e.$8():e.$9()};this.$6=function(){for(var a=0;a<e.$1.length;a++)e.$1[a].remove();e.$1=[]};this.$1=[c("Stratcom").listen("click",b,this.$5.bind(this)),c("Stratcom").listen("m:page:unload",null,this.$6.bind(this))];this.$2=a;this.$3=d}var b=a.prototype;b.$7=function(a){var b=this.$3;if(c("isFalsey")(b))return!0;a=a;var e=d("MContextualThing").getContext(a);e&&(a=e);return d("MParent").bySigil(this.$2,b)===d("MParent").bySigil(a,b)};b.$9=function(){c("CSS").addClass(this.$2,"_58z9"),this.$4=!0};b.$8=function(){c("CSS").removeClass(this.$2,"_58z9"),this.$4=!1};return a}();function a(a){new i(a.loader,a.sigil,a.scopeSigil)}g.setup=a}),98);
__d("MEventsDashboardURISetter",["QueryString","Stratcom","URI"],(function(a,b,c,d,e,f){var g,h={removeActionContext:function(){var a=h.removeActionContextFromURL(window.location.href);window.history.replaceState({},window.title,a)},removeActionContextFromURL:function(a){a=new(g||(g=b("URI")))(a);var c=a.getQueryData();c.ac&&delete c.ac;c.acontext&&delete c.acontext;c.actionContext&&delete c.actionContext;a.setQueryData(c);return a.toString()},replaceURI:function(a){var c=new(g||(g=b("URI")))(a);c.getPath()!==window.location.pathname&&b("Stratcom").listen("m:ajax:saving:complete",null,function(){var c=new(g||(g=b("URI")))(h.removeActionContextFromURL(a)),d=c.getPath(),e=c.getQueryData();e&&(d=b("QueryString").appendToUrl(d,e));window.history.pushState({subpath:c.getPath()},window.document.title,d);b("Stratcom").removeCurrentListener()})}};e.exports=h}),null);
__d("MEventsTabBar",["cx","CSS","MEventsDashboardURISetter","Stratcom"],(function(a,b,c,d,e,f,g){var h=[],i=null,j=null,k=null,l={_toggleActive:function(a){i&&i.childNodes&&[].slice.call(i.childNodes).forEach(function(a){b("CSS").removeClass(a.firstChild,"_5kqs")});a=a.getTarget();a instanceof HTMLAnchorElement&&(b("CSS").addClass(a,"_5kqs"),l.replaceURI(a.href))},showSpinner:function(){k&&b("CSS").hide(k),j&&b("CSS").show(j)},hideSpinner:function(){k&&b("CSS").show(k),j&&b("CSS").hide(j)},replaceURI:function(a){l.showSpinner(),b("MEventsDashboardURISetter").replaceURI(a)},setup:function(a,c,d,e){l._cleanup(),h=e.map(function(a){return b("Stratcom").listen("click",a,l._toggleActive.bind(l))}),i=a,j=c,k=d,b("CSS").hide(j)},_cleanup:function(){while(h.length)h.pop().remove();i=null;j=null;k=null}};e.exports=l}),null);
__d("MFacewebSearch",["Stratcom"],(function(a,b,c,d,e,f){function a(a){b("Stratcom").invoke("m-search-typeahead-change",null,a)}function c(a){b("Stratcom").invoke("fw-bootstrapped-results-ready",null,a)}function d(a){b("Stratcom").invoke("log-m-search-session-end",null,{reason:a})}e.exports={fwUpdateQuery:a,fwBootstrapUsers:c,fwHideSearchOverlay:d}}),null);
__d("FW",["fbt","CurrentUser","FBLogger","MCache","MFacewebSearch","URI","goURI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){a.fwBootstrapUsers=d("MFacewebSearch").fwBootstrapUsers;a="action";var i="add",j="bookmarks",k="camera",l="camera_large",m="cancel",n="compose",o="done",p="edit",q="fast_forward",r="fixed_space",s="flexible_space",aa="launcher",ba="like",ca="organize",da="photo_library",ea="page_curl",fa="pause",ga="play",ha="redo",ia="refresh",ja="reply",ka="rewind",la="save",ma="search",na="stop",oa="trash",pa="unlike",qa="undo",ra="archive",sa="unarchive",ta="delete",ua="forward",va="mark_spam",wa="move",xa="mark_unread",ya="fw_photo_uploaded",za="fw_photo_captured",Aa="fw_checkin_completed",t="library",u="camera",Ba=300,v=null,w=null,x=null,y=null,z=!1,A=[],B=[],C=null,D=!1,E=1,F=150,G={},H=0;function I(){w===null&&(w=/iPhone/.test(navigator.userAgent)||/iPod/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent));return w}function J(){v===null&&(v=navigator.userAgent.match(/android/i));return v}function b(){return I()&&K()>=4100}function Ca(a){var b=window.FB_FW_DEVICE.split(";");return b[a]}function e(){var a=navigator.userAgent.match(/;FBSV\/([\d\.]+);/);if(a)return a[1];else return Ca(1)}function f(){var a=navigator.userAgent.match(/;FBAV\/([\d\.\-\w]+);/);return a?a[1]:"0"}function K(){if(/FBBV/.test(navigator.userAgent))return parseInt(navigator.userAgent.match(/FBBV\/(\d+)/)[1],10);else return 0}function L(){x===null&&(x=window.FB_FW_BRIDGED||!1);return x}function M(){y===null&&(Da()?y=window.FW_ENABLED||!1:y=!1);return y}function Da(){return c("CurrentUser").isLoggedIn()}function N(a){if(L()){if(window.fwbridge){var b=function(){};for(var c=0,d=a.length;c<d;c++){var e=a[c].method;if(window.fwbridge[e]){var f=a[c].callback;f?window.fwbridge[e](a[c].params,b,b,f):window.fwbridge[e](a[c].params)}}}else A=A.concat(a),S(E);return!0}return!1}function O(a){if(!M())return!1;if(z){B=B.concat(a);return!0}if(N(a))return!0;if(I()){A=A.concat(a);S(0);return!0}else if(J())for(var b=0;b<a.length;b++){var c=a[b].params,d="",e=!0;for(var f in c){e?(e=!1,d=d+"?"):d=d+"&";var g=c[f];typeof g==="object"&&(g=JSON.stringify(g));d+=encodeURIComponent(f)+"="+encodeURIComponent(g)}window.prompt("fbrpc://facebook/"+a[b].method+"/"+d);a[b].callback&&a[b].callback()}return!1}function P(a,b){if(b>=a.length){c("FBLogger")("FIXME").warn("unexpected call to _callNativeInOrderCallback");return}var d=a[b];b+=1;b!==a.length&&(d.callback=P.bind(null,a,b));O([d])}function Q(a){P(a,0)}function Ea(a,b){b=b?"facewebmodal":"faceweb";return"fb://"+b+"/f?href="+encodeURIComponent(a)}function R(a){for(var b=0;b<a.length;++b){var c=a[b].callback;c&&c()}}function S(a){if(D)return;D=!0;c("setTimeoutAcrossTransitions")(Fa,a)}function Fa(){D=!1;if(!A.length)return;if(L()){window.fwbridge?(N(A),A=[]):S(E);return}if(I()&&C){var a=Date.now()-C;if(a<=F){S(F);return}}C=Date.now();a=A;A=[];if(I()){var b="fbrpc://batch?payload="+encodeURIComponent(JSON.stringify(a));location.href=b;R(a)}else R(a)}function Ga(){z=!0}function Ha(){var a=B;B=[];z=!1;return a}function T(a){if(typeof a!=="function")return a?a.toString():"";G||(G={},H=0);var b="_"+H;H++;G[b]=function(){if(a){var b=[],c=arguments.length;for(var d=0;d<c;d++)b.push(arguments[d]);return a.apply(a,b)}};return"FW._callbacks."+b}function Ia(){O([{method:"bootstrapUsers",params:{callback:"fwBootstrapUsers"}}]);return $}function Ja(a,b){O([{method:"correctPageSkeleton",params:{skeleton:a,version:b}}]);return $}function Ka(a){O([{method:"getDevicePhoneNumber",params:{callback:T(a)}}]);return $}function La(a){O([{method:"backgroundConfirmationAddPendingContactpoint",params:{contactpoint:a}}]);return $}function Ma(a){O([{method:"getEmailAddresses",params:{callback:T(a)}}]);return $}function Na(){O([{method:"enablePullToRefresh"}]);return $}function Oa(){O([{method:"disablePullToRefresh"}]);return $}function Pa(a){O([{method:"setScrollEnabled",params:{enabled:(a||!1).toString()}}]);return $}function Qa(a){O([{method:"setRotationEnabled",params:{enabled:(a||!1).toString()}}]);return $}function Ra(a){O([{method:"setCacheTTL",params:{timeout:a}}]);return $}function Sa(a){O([{method:"hideWebViewBackground",params:{subviewIndices:a}}]);return $}function Ta(){O([{method:"overrideScrollViewDecelerationRate"}]);return $}function Ua(){O([{method:"pageLoading"}]);return $}function Va(){O([{method:"pageLoaded"}]);return $}function Wa(){O([{method:"reload"}]);return $}function Xa(){O([{method:"close"}]);return $}function Ya(){O([{method:"back"}]);return $}function Za(a){O([{method:"callCell",params:{target:a}}]);return $}function $a(a){O([{method:"callSMS",params:{target:a}}]);return $}function ab(a,b){O([{method:"showComposer",params:{callback:T(b),postId:a}}]);return $}function bb(a,b,c){O([{method:"showMsgComposer",params:{target:a,title:encodeURIComponent(b),callback:T(c)}}]);return $}function cb(a){O([{method:"pinProfile",params:{value:a}}]);return $}function db(){O([{method:"showHomeSearchBar"}]);return $}function eb(a,b,c,d,e,f){f=Object.assign(f||{},{target:a.toString(),source:b||t,shouldPublish:(c||!1).toString(),photosOnly:(d||!1).toString(),callback:e||""});O([{method:"uploadPhoto",params:f}]);return $}function fb(a,b,c,d,e,f){O([{method:"captureCoverPhoto",params:{target:a.toString(),source:c||t,shouldPublish:(b||!1).toString(),portraitHeight:d.toString(),landscapeHeight:e.toString(),callback:f||""}}]);return $}function U(a){return{actor_profile_pic_uri:a,acts_as_target:!0,enable_friend_tagging:!1,enable_privacy:!1,enable_attach_to_album:!1}}function gb(a,b,c,d){return V(a,b,c,U(d))}function hb(a){a.callback||(a.callback="FWPublisherListener.publisherCallback");a.ts=Date.now().toString();O([{method:"showShareComposer",params:a}]);return $}function V(a,b,c,d){d=Object.assign(d||{},{target:a.toString(),title:b||"",callback:c||"FWPublisherListener.publisherCallback"});O([{method:"showStatusComposer",params:d}]);return $}function ib(){O([{method:"refreshZeroToken"}]);return $}function jb(a){O([{method:"addFriend",params:{userId:a.toString()}}]);return $}function kb(){O([{method:"startSyncFriends"}]);return $}function lb(a,b){O([{method:"showCheckinComposer",params:{target:a.toString(),callback:b||""}}]);return $}function mb(a,b,c,d){return W(a,void 0,b,U(d))}function W(a,b,c,d,e){var f=c?h._(/*FBT_CALL*/"Prendre une photo"/*FBT_CALL*/):h._(/*FBT_CALL*/"Prendre une photo ou une vid\u00e9o"/*FBT_CALL*/);e=JSON.stringify(e||{});var g="FW.uploadPhoto("+a+',"'+u+'",'+(b?"true":"false")+","+(c?"true":"false")+',"'+d+'",'+e+")";a="FW.uploadPhoto("+a+',"'+t+'",'+(b?"true":"false")+","+(c?"true":"false")+',"'+d+'",'+e+")";return Z([{title:f,callback:g},{title:h._(/*FBT_CALL*/"Importer une photo"/*FBT_CALL*/),callback:a}])}function nb(a,b,c){O([{method:"showFriendPicker",params:{callback:T(a),exclude_ids:c,preselected_ids:b}}]);return $}function ob(a,b,c,d){O([{method:"showPublisher",params:{target:a||"",type:b||"",title:encodeURIComponent(String(d))||"",callback:T(c)}}]);return $}function pb(){O([{method:"removePublisher"}]);return $}function qb(a,b,c,d){var e;typeof b==="object"&&(e=JSON.stringify(b));O([{method:"showPickerView",params:{selected_index:a,options:e,dismiss_script:c,title:d}}]);return $}function rb(a){O([{method:"setNavBarTitle",params:{title:a}}]);return $}function sb(a,b){O([{method:"setNavBarHidden",params:{hidden:(a||!1).toString(),animated:(b||!1).toString()}}]);return $}function tb(a){O([{method:"dismissModalDialog",params:{animated:(a||!1).toString()}}]);return $}function ub(a){J()||I()&&K()==4100?O([{method:"openInNewWebView",params:{url:String(a)}}]):(!a instanceof c("URI")&&(a=new(c("URI"))(a)),c("goURI")(a))}function vb(a,b,c,d,e){O([{method:"openInSameWebView",params:{path:a.toString(),method:b,params:c||{},force:e.toString()}}])}function wb(a,b,c,d,e,f){b&&typeof b==="function"&&(b=T(b)+"();");a={title:a||"",script:b||"",type:c||"toolbarButton",position:"right",animated:(e||!1).toString(),isDisabled:(f||!1).toString(),url:void 0};d&&(a.url=d);O([{method:"setNavBarButton",params:a}]);return $}function xb(a){a={enabled:a.toString()};O([{method:"setRightBarButtonEnabled",params:a}]);return $}function X(a,b){a={script:a||"",delay:b||0};O([{method:"broadcastScript",params:a}]);return $}function yb(a,b,c,d){a='require("Stratcom").invoke("'+a+'",'+JSON.stringify(b)+","+JSON.stringify(c)+");";X(a,d)}function zb(a,b,c){O([{method:"showCommentPublisher",params:{post_id:a,callback:T(b),allow_empty_comment:c||!1}}]);return $}function Ab(a){O([{method:"showMsgReplyPublisher",params:{callback:T(a)}}]);return $}function Bb(a){O([{method:"setWebViewBackgroundPattern",params:{filename:a.toString()}}]);return $}function Cb(a,b,c,d){O([{method:"setWebViewBackgroundColor",params:{red:a.toString(),green:b.toString(),blue:c.toString(),alpha:d.toString()}}]);return $}function Db(){O([{method:"showToolbar"}]);return $}function Eb(a,b,c){O([{method:"setToolbarColor",params:{red:a.toString(),green:b.toString(),blue:c.toString()}}]);return $}function Fb(a){a=a.slice(0,5);var b={type:"text",title:"",url:""},c=a.length;while(c--)for(var d in b)a[c][d]=a[c][d]||b[d];O([{method:"setToolbarButtons",params:{buttons:a}}]);return $}function Gb(a,b){a=a.slice(0,5);b=b||0;b<0?b=0:b>=a.length&&(b=a.length-1);O([{method:"setToolbarSegments",params:{segments:a,current_tab:b}}]);return $}function Hb(a){O([{method:"setCoverWidth",params:{width:a}}]);return $}var Ib={getCurrentPosition:function(a){O([{method:"geolocationGetCurrentPosition",params:{callback:T(a)}}]);return $},watchPosition:function(a,b){O([{method:"geolocationWatchPosition",params:{updateCallback:T(a),errorCallback:T(b)}}]);return $},clearWatch:function(){O([{method:"geolocationClearWatch"}]);return $}},Jb="right_bar_button",Y="view";function Z(a,b,c,d){a=a.slice(0,6);b=b?b:Y;var e={title:"",callback:"",type:"regular"},f=a.length;while(f--){for(var g in e)a[f][g]=a[f][g]||e[g];I()&&(a[f].callback="(function() {"+(a[f].callback||"")+"})")}O([{method:"showActionSheet",params:{buttons:a,showFrom:b,hideCancelButton:(c||!1).toString(),title:d||""}}]);return $}function Kb(a){O([{method:"setActionMenu",params:{actions:a}}]);return $}function Lb(a,b,c,d,e,f){O([{method:"showAlert",params:{message:a||"",title:b||"",button0Title:c||"",button0Url:d||"",button1Title:e||"",button1Url:f||""}}]);return $}function Mb(a,b){O([{method:"addNativeEventListener",params:{event:""+a,callback:T(b)}}]);return $}function Nb(){O([{method:"showNetworkActivityIndicator"}]),O([{method:"pageLoading"}])}function Ob(){O([{method:"hideNetworkActivityIndicator"}]),O([{method:"pageLoaded"}])}function Pb(){O([{method:"showNetworkActivityIndicator"}]),O([{method:"showPageReloadingIndicator"}]),O([{method:"pageLoading"}])}function Qb(){O([{method:"hideNetworkActivityIndicator"}]),O([{method:"hidePageReloadingIndicator"}]),O([{method:"pageLoaded"}])}function Rb(a){var b=window.FB_FW_VERSION;a=a&&a.readyState===4&&a.getResponseHeader("FB_FW_VERSION");a&&a!=b&&(d("MCache").clear(),Q([{method:"resetCache",params:{clearLocalStorage:"true"}},{method:"setRootVersion",params:{version:a}},{method:"reloadCurrent"},{method:"reloadFuture"}]))}function Sb(a){if(!a||a.readyState!==4||!a.getResponseHeader("FW_LOGGED_OUT"))return!1;Q([{method:"resetCache",params:{clearCookies:"true"}},{method:"reloadCurrent"}]);return!0}var Tb={reportCachedResponseLoaded:function(){O([{method:"perf.cachedResponseLoaded"}])}};function Ub(a){O([{method:"setUnreadNotificationCount",params:{count:a}}]);return $}function Vb(a){O([{method:"setUnreadRequestCount",params:{count:a}}]);return $}function Wb(){O([{method:"ubersearchReady"}]);return $}function Xb(){O([{method:"friendsearchReady"}]);return $}function Yb(){O([{method:"hideSoftKeyboard"}]);return $}function Zb(a,b){O([{method:"addUniversalFeedbackToken",params:{action:a,node_token:b}}]);return $}function $b(a,b,c,d,e,f,g,h,i){O([{method:"launchNativeIDV",params:{userId:a,product:b,sessionId:c,submitToAuthenticityPlatform:d,authenticityEntId:e,returnFileHandles:f,fileHandleInputName1:g,fileHandleInputName2:h,showIntro:i}}]);return $}function ac(a,b,c,d,e,f,g,h,i,j,k,l,m,n){O([{method:"launchNativeIDVVer2",params:{flowType:a,showIntroVariant:b,userId:c,product:d,sessionId:e,submitToAuthenticityPlatform:f,authenticityEntId:g,returnFileHandles:h,idCaptureFrontImageHandleInputName:i,idCaptureBackImageHandleInputName:j,selfieCaptureVideoHandleInputName:k,selfieCapturePhotoHandleInputName:l,userConsentValueInputName:m,headMovementDirections:n}}]);return $}var $={BRIDGE_DEFER_INTERVAL:E,BUTTON_ACTION:a,BUTTON_ADD:i,BUTTON_BOOKMARKS:j,BUTTON_CAMERA:k,BUTTON_CAMERA_LARGE:l,BUTTON_CANCEL:m,BUTTON_COMPOSE:n,BUTTON_DONE:o,BUTTON_EDIT:p,BUTTON_FASTFORWARD:q,BUTTON_FIXEDSPACE:r,BUTTON_FLEXIBLESPACE:s,BUTTON_LAUNCHER:aa,BUTTON_LIKE:ba,BUTTON_ORGANIZE:ca,BUTTON_PAGECURL:ea,BUTTON_PAUSE:fa,BUTTON_PHOTO_LIBRARY:da,BUTTON_PLAY:ga,BUTTON_REDO:ha,BUTTON_REFRESH:ia,BUTTON_REPLY:ja,BUTTON_REWIND:ka,BUTTON_SAVE:la,BUTTON_SEARCH:ma,BUTTON_STOP:na,BUTTON_TRASH:oa,BUTTON_UNDO:qa,BUTTON_UNLIKE:pa,EVENT_CHECKIN_COMPLETED:Aa,EVENT_PHOTO_CAPTURED:za,EVENT_PHOTO_UPLOADED:ya,MENU_ICON_ARCHIVE:ra,MENU_ICON_DELETE:ta,MENU_ICON_FORWARD:ua,MENU_ICON_MARK_SPAM:va,MENU_ICON_MARK_UNREAD:xa,MENU_ICON_MOVE:wa,MENU_ICON_UNARCHIVE:sa,MIN_TIME_BETWEEN_CALLS_MS:F,PHOTO_UPLOAD_SOURCE_CAMERA:u,PHOTO_UPLOAD_SOURCE_LIBRARY:t,RIGHT_BAR_BUTTON:Jb,TIMEOUT_SEC:Ba,VIEW:Y,addFriend:jb,addNativeEventListener:Mb,appVersion:f,back:Ya,backgroundConfirmationAddPendingContactpoint:La,bootstrapUsers:Ia,broadcastEvent:yb,broadcastScript:X,callBridge:N,callNative:O,callNativeInOrder:Q,callUserCell:Za,captureCoverPhoto:fb,checkVersion:Rb,close:Xa,correctPageSkeleton:Ja,disablePullToRefresh:Oa,dismissModalDialog:tb,enableBridge:L,enableNative:M,enablePullToRefresh:Na,friendsearchReady:Xb,geolocation:Ib,getDevicePhoneNumber:Ka,getEmailAddresses:Ma,getNativeUrl:Ea,getOSVersion:e,getPageAdminComposerParams:U,getStoredNativeCalls:Ha,getCallbackString:T,handleLogout:Sb,hideNetworkActivityIndicator:Ob,hidePageReloadingIndicator:Qb,hideSoftKeyboard:Yb,hideWebViewBackground:Sa,isAndroid:J,isIOS:I,isRootless:b,openInNewWebView:ub,openInSameWebView:vb,overrideScrollViewDecelerationRate:Ta,pageLoaded:Va,pageLoading:Ua,perf:Tb,pinProfile:cb,reload:Wa,removePublisher:pb,setActionMenu:Kb,setCacheTTL:Ra,setCoverWidth:Hb,setNavBarButton:wb,setNavBarHidden:sb,setNavBarTitle:rb,setRightBarButtonEnabled:xb,setRotationEnabled:Qa,setScrollEnabled:Pa,setToolbarButtons:Fb,setToolbarColor:Eb,setToolbarSegments:Gb,setUnreadNotificationCount:Ub,setUnreadRequestCount:Vb,setWebViewBackgroundColor:Cb,setWebViewBackgroundPattern:Bb,showActionSheet:Z,showAlert:Lb,showCheckinComposer:lb,showCommentPublisher:zb,showShareComposer:hb,showComposer:ab,showFriendPicker:nb,showHomeSearchBar:db,showMsgComposer:bb,showMsgReplyPublisher:Ab,showNetworkActivityIndicator:Nb,showPageAdminPhotoChooser:mb,showPageAdminStatusComposer:gb,showPageReloadingIndicator:Pb,showPhotoChooser:W,showPickerView:qb,showPublisher:ob,showStatusComposer:V,showToolbar:Db,startSyncFriends:kb,storeNativeCalls:Ga,textUser:$a,ubersearchReady:Wb,uploadPhoto:eb,refreshZeroToken:ib,versionNumber:K,addUniversalFeedbackToken:Zb,launchNativeIDV:$b,launchNativeIDVVer2:ac,_callbacks:G};a=$;g["default"]=a}),98);
__d("MEventPermalink",["FW"],(function(a,b,c,d,e,f){function a(){window.FW_ENABLED&&b("FW").setNavBarButton("","1;")}e.exports.clearHeaderButton=a}),null);
__d("MReactionUnitViewportTracking",["DOM","MLegacyDataStore","MViewportTracking","MarauderLogger","Stratcom","ge"],(function(a,b,c,d,e,f,g){"use strict";var h="reaction-unit-logging",i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.onUnload=function(){c.startRecordingTimeTrackingData()},a)||babelHelpers.assertThisInitialized(c)}var e=a.prototype;e.getDataFromConfig=function(a){this.$MReactionUnitViewportTracking1=[c("Stratcom").listen("m:jewel:flyout:open",null,function(a){a.getData().jewel==="notifications"&&this.startRecordingTimeTrackingData()}.bind(this)),c("Stratcom").listen("m:jewel:flyout:close",null,function(a){a.getData().jewel==="notifications"&&this.stopRecordingTimeTrackingData()}.bind(this)),c("Stratcom").listen("unload",null,function(){this.stopRecordingTimeTrackingData()}.bind(this))],this.isTimeTrackingEnabled=!0};e.getAllStories=function(){var a=c("ge")("notifications_flyout");return!a?[]:d("DOM").scry(a,"div",h)};e.getTimeout=function(){return 1};e.getDataToLog=function(a){return d("MLegacyDataStore").get(a).logging_data};e.getMinSizeToBeVisible=function(a){return 0};e.getStoryID=function(a){return a.id};e.getTimetrackingDataToLog=function(a){var b={};Object.assign(b,d("MLegacyDataStore").get(a.story).logging_data);b.unit_type=b.interacted_story_type;delete b.interacted_story_type;b.first_appear_time=a.evp_ts/1e3;b.vpvd_time_delta=Math.round(a.vpvd);var c=this.getAllStories();b.unit_count=c.length;b.unit_position=c.indexOf(a.story);return b};e.sendDataToLog=function(a){if(!a.vpvd_time_delta)return;d("MarauderLogger").log("reaction_unit_impression","reaction_units",a)};return a}(c("MViewportTracking"));function a(a){new i().init(a)}g.init=a}),98);
__d("MReactionLogging",["MLegacyDataStore","MReactionUnitViewportTracking","MarauderLogger","Stratcom"],(function(a,b,c,d,e,f,g){var h="reaction_logging",i=[];function a(a){d("MReactionUnitViewportTracking").init(a);if(i.length)return;i=[c("Stratcom").listen("click",h,function(a){a=a.getNode(h);a instanceof HTMLElement&&j(a)}),c("Stratcom").listen("reaction-unit-expiration",null,function(a){d("MarauderLogger").log("reaction_unit_did_timeout","reaction_units",a.getData())})]}function j(a){a=d("MLegacyDataStore").get(a).logging_data;d("MarauderLogger").log("reaction_unit_interaction","guide_cards_null_state",a)}g.init=a}),98);
__d("MReactionUnitExpirations",["MLocationPrompt","MRequest","Stratcom","ThisControllerNoLongerExists","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h={},i=[],j=1e3*60*10;function a(){if(i.length)return;i=[c("Stratcom").listen(c("MLocationPrompt").STRATCOM_UPDATE,null,function(a){l(a.getData().position.coords)})];c("setTimeoutAcrossTransitions")(k,j)}function b(a,b,d){h[a]={unit_type:d,expiration:b},b.radius&&c("MLocationPrompt").getCoords()&&m(a,c("MLocationPrompt").getCoords())}function k(){var a=Date.now()/1e3;for(var b in h)a>h[b].expiration.timestamp&&n(b);c("setTimeoutAcrossTransitions")(k,j)}function l(a){if(!a||a.latitude===void 0||a.longitude===void 0)return;for(var b in h)m(b,a)}function m(a,b){var c=h[a].expiration;c.radius&&o(c.latitude,c.longitude,b.latitude,b.longitude)>c.radius&&n(a)}function n(a){var b=d("ThisControllerNoLongerExists").__DEADBUILDER__("re0pnqd6s").setString("id",a),e=c("MLocationPrompt").getCoords();e&&b.setFloat("lat",e.latitude).setFloat("long",e.longitude);c("Stratcom").invoke("reaction-unit-expiration",null,{unit_type:h[a].unit_type});new(c("MRequest"))(b.getURI().toString()).send();delete h[a]}function o(a,b,c,d){var e=6371e3,f=p(c-a);d=p(d-b);b=Math.sin(f/2)*Math.sin(f/2)+Math.cos(p(a))*Math.cos(p(c))*Math.sin(d/2)*Math.sin(d/2);f=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));a=e*f;return a}function p(a){return a*(Math.PI/180)}g.init=a;g.updateUnitExpiration=b}),98);
__d("MemoriesAndCelebrationsBanzaiLogger",["Banzai"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a.onclick=function(){b("Banzai").post("goodwill_memories_and_celebrations",c)}}f.logClickEvent=a}),66);