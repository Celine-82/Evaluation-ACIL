if (self.CavalryLogger) { CavalryLogger.start_js(["gKhCWM5"]); }

__d("LoggedOutLoginSignupBarTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsPrimaryCtaReg=function(a){this.$1.is_primary_cta_reg=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};return a}();c={event:!0,is_primary_cta_reg:!0,surface:!0};f["default"]=a}),66);
__d("MPopupSmallCta",["Event","LoggedOutLoginSignupBarTypedLogger","MAnimator","MViewport","Run","Style","clearTimeout","ge","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=150,h=1e3,i=214;a={show:function(a,c,d,e){this._expandingCta=a,this._ctaUnit=c,this._closeIcon=d,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,this._referrerSurface=e,b("Run").onAfterLoad(this._init.bind(this))},_init:function(){var a=this,c,d=(c=b("ge"))("header"),e=c("header-notices"),f=c("mobile_login_bar");c=c("account_switcher_footer");this._scrollThreshold=0;this._height=i;if(d){b("Style").set(d,"z-index","0");d=d.clientHeight;d&&(this._scrollThreshold+=d)}if(e){b("Style").set(e,"z-index","0");d=e.clientHeight;d&&(this._scrollThreshold+=d)}if(f){e=f.clientHeight;e&&(this._scrollThreshold+=e,this._height=e)}if(c){d=c.clientHeight;d&&(this._scrollThreshold+=d,this._height=d)}b("setInterval")(this._updateCTA.bind(this),h);b("Event").listen(this._closeIcon,"click",function(){a._ctaClosed=!0,a._hideCTA()})},_hideCTA:function(){var a=this,c=this._expandingCta.clientHeight;b("MAnimator").play(c,0,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!1;b("clearTimeout")(this._timerId)},_showCTA:function(){var a=this;if(this._ctaVisible)return;new(b("LoggedOutLoginSignupBarTypedLogger"))().setEvent("login_signup_bar_load").setSurface(this._referrerSurface).log();b("Style").set(this._ctaUnit,"margin-top","0px");b("Style").set(this._expandingCta,"background","none");b("MAnimator").play(0,this._height,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!0;this._ctaShownOnce=!0;b("clearTimeout")(this._timerId)},_updateCTA:function(){var a=b("MViewport").getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&b("MViewport").getScrollTop()>a&&this._showCTA();this._ctaVisible&&b("MViewport").getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MTimelineCTRLogger",["BanzaiLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g){var h="timeline-ctr-logger";c("Stratcom").listen("click",h,function(a){a=d("MLegacyDataStore").get(a.getNode(h));c("BanzaiLogger").log(a.config,a.data)});a={};g["default"]=a}),98);
__d("MOrientationResize",["DOM","MLegacyDataStore","MParent","Stratcom","Vector","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h;function a(a){var b="orientation-resizable",e="content-pane";if(h){f(a.id);return}h=!0;function f(a){a=document.getElementById(a);a&&p([{root:d("MParent").bySigil(a,e),elements:[a]}])}function g(a,b){var d=b.padding||0,e=b.aspectRatio||1,f=b.widthRatio||1;b=b.containerAspectRatio;a=a*f-d;if(!b)f=a,d=Math.floor(a/e);else{a=a;b=a/b;var g=a/b;e=e;e=e/g;e>1?(f=a,d=1/e*b):(f=e*a,d=b)}return new(c("Vector"))(f,d)}function i(a,b){var d=b.aspectRatio||1,e=b.columnCount||1,f=b.gridPadding||0;b=b.photoMargin||0;a=a-f-(e-1)*b;f=Math.floor(a/e);b=Math.ceil(f/d);return new(c("Vector"))(f,b)}function j(a,b){var d=b.aspectRatio||1,e=b.widthRatio||1;b=b.padding||0;a=a*e;e=a/d;return new(c("Vector"))(Math.round(a)-b,Math.floor(e)-b)}function k(a){a=a.getData();var c=d("DOM").scry(a,"*",b);c&&p([{root:d("MParent").bySigil(a,e),elements:c}])}var l,m;function n(){m++;var a=!1,f=d("DOM").scry(document,"*",e);if(f&&f.length){var g=[];for(var h=0;h<f.length;h++){var i=f[h],j=i.offsetWidth,k=d("MLegacyDataStore").get(i);k=k&&k.offsetWidth;j!==k&&(d("MLegacyDataStore").set(i,{offsetWidth:j}),a=!0,g.push({root:i,elements:d("DOM").scry(i,"*",b)}))}g.length&&p(g)}m<3&&(l=c("setTimeoutAcrossTransitions")(n,500));a&&c("Stratcom").invoke("m:orientation-resize:complete")}function o(){m=0,clearTimeout(l),n()}function p(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c].root,f=a[c].elements;if(!e||!f)continue;e=e.offsetWidth;if(e===0)continue;for(var h=0;h<f.length;h++){var k=f[h],l=d("MLegacyDataStore").get(k),m=null,n;switch(l.mode){case"scale-photo-attachment":m=g(e,l);break;case"scale-photo-relative-item":m=j(e-l.outerPadding,l);break;case"scale-photo-grid-item":m=i(e,l);break;case"resize-to-unit":m=q(e,k,l);break;case"resize-feed-2-photos-attachment":n=t(e,k,l);b=b.concat(n);continue;case"resize-feed-3-photos-attachment":n=u(e,k,l);b=b.concat(n);continue;default:continue}b.push({node:k,width:m.x,height:m.y})}}b.forEach(function(a){if(!a||!a.node)return;a.node.style.width=a.width+"px";a.node.style.height=a.height+"px"})}function q(a,b,d){var e=d.padding||0,f=d.aspectRatio||1;d=d.widthRatio||1;b=r(b);b=b?c("Vector").getDim(b).x:a;a=b*d-e;b=Math.floor(a/f);return new(c("Vector"))(a,b)}function r(a){return d("MParent").bySigil(a,"orientation-resize-parent")}function s(a,b){b=b==="P"?4/3:3/4;return Math.floor(a*b)}function t(a,b,c){var e=c.orient;a=a-c.spacing;var f,g,h;if(e==="PL"||e==="LP"){c=Math.round(a*c.fraction);var i=a-c;h=s(c,"L");e==="PL"?(f=i,g=c):(f=c,g=i)}else f=Math.round(a/2),g=a-f,h=s(f,e[0]);c=d("DOM").scry(b,"*","photoleft")[0];i=d("DOM").scry(b,"*","photoright")[0];a=[];c&&a.push({node:c,width:f,height:h});i&&a.push({node:i,width:g,height:h});return a}function u(a,b,c){a=a-c.spacing;var e=Math.round(a*c.fraction);a=a-e;var f=s(e,c.orient),g=Math.floor(f/2)-c.margin;c=f-g-c.margin;return[{node:d("DOM").find(b,"*","mainphoto"),width:e,height:f},{node:d("DOM").find(b,"*","topphoto"),width:a,height:g},{node:d("DOM").find(b,"*","bottomphoto"),width:a,height:c}]}a.id&&f(a.id);c("Stratcom").listen(["m:viewport:orientation-change","m:page:render:complete","m:page:render:cache:complete","m:ajax:complete","m:plugin:resize"],null,o);c("Stratcom").listen(["m:timeline:unit:resize","m-timeline-two-column-layout:pre-section-balance"],null,k)}g.main=a}),98);
__d("MLoggedOutUFILogger",["LoggedOutLoginSignupBarTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){new(c("LoggedOutLoginSignupBarTypedLogger"))().setEvent(a).setSurface(b).log()}function a(a){h("story_permalink_share_flyout_option_click",a)}g.log=h;g.logSharesheetClick=a}),98);
__d("MLoggedOutShareFlyout",["Clipboard","DataStore","Event","MLoggedOutUFILogger","SubscriptionsHandler","URI","XLoginController","gkx","goURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=null;this.$7=function(a){var e=b.$10();e=c("XLoginController").getURIBuilder().setString("next",e.toString()).getURI();d("MLoggedOutUFILogger").logSharesheetClick(22);b.$11(e,a);b.$6()};this.$8=function(a){var e=b.$10(),f=b.$12();f!=null&&(e=e.addQueryData("scmts",f));f=new(c("URI"))("https://api.whatsapp.com/send").addQueryData({ref:"whatsapp_share_message",text:e.toString()});d("MLoggedOutUFILogger").logSharesheetClick(23);b.$11(f,a)};this.$9=function(a){a=b.$10().toString();if(a!=null){a=d("Clipboard").copy(a);a&&b.$1.hide()}};this.$1=a.flyout;this.$2=a.shareOptions;this.$3=a.loggedOutCTASurface;this.$5()}var b=a.prototype;b.$5=function(){this.$6(),this.$4=new(c("SubscriptionsHandler"))(),this.$4.addSubscriptions(c("Event").listen(this.$2.writePost,"click",this.$7.bind(this)),c("Event").listen(this.$2.sendInWA,"click",this.$8.bind(this)),this.$1.addListener("beforeshow",function(){d("MLoggedOutUFILogger").log("story_permalink_share_flyout_load")})),this.$2.copyLink!=null&&this.$4!=null&&this.$4.addSubscriptions(c("Event").listen(this.$2.copyLink,"click",this.$9.bind(this)))};b.$10=function(){var a=this.$1.getContext();a=d("DataStore").get(a,"shareable_uri","");return typeof a==="string"?new(c("URI"))(a).getQualifiedURI():new(c("URI"))("")};b.$11=function(a,b){c("goURI")(a),this.$1.hide(),b.preventDefault()};b.$6=function(){this.$4!=null&&this.$4.release()};b.$12=function(){return this.$3==="story_permalink"&&c("gkx")("1108874")?"scwsplos":null};return a}();g["default"]=a}),98);
__d("SeoClickTrackerTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:SeoClickTrackerLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:SeoClickTrackerLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:SeoClickTrackerLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClickedFbid=function(a){this.$1.clicked_fbid=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};c.setPosition=function(a){this.$1.position=a;return this};return a}();c={clicked_fbid:!0,component:!0,fbid:!0,position:!0};f["default"]=a}),66);
__d("SeoRhsItemWrapper",["Parent","SeoClickTrackerTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.child.addEventListener("click",this._onClick(a))}function b(a){var b=a.evt.target;if(!(b instanceof Node))return;b=b&&d("Parent").byTag(b,"a");b!==null&&b.getAttribute("href")!=="#"&&b.getAttribute("ajaxify")===null&&new(c("SeoClickTrackerTypedLogger"))().setFbid(a.page_fbid).setClickedFbid(a.component_fbid).setComponent(a.component).setPosition(a.position).log()}function e(a){var b=this;return function(c){c=babelHelpers["extends"]({},a,{evt:c});b.clickHandler(c)}}g.log=a;g.clickHandler=b;g._onClick=e}),98);