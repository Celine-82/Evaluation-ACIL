if (self.CavalryLogger) { CavalryLogger.start_js(["DS7dMoJ"]); }

__d("MPagesFinchShowLink",["fbt","MLegacyDataStore","MobileAppDetect","Stratcom"],(function(a,b,c,d,e,f,g,h){"use strict";var i="show-link";function j(){var a=c("Stratcom").listen("click",i,function(a){a=d("MLegacyDataStore").get(a.getNode(i));c("MobileAppDetect").is_kaios?window.alert(a.uri):window.prompt(h._(/*FBT_CALL*/"Maintenez appuy\u00e9 le lien ci-dessous pour s\u00e9lectionner et copier l\u2019adresse."/*FBT_CALL*/),a.uri)});c("Stratcom").listen("m:page:unload",null,function(b){a.remove()})}function a(){j()}g.init=a}),98);
__d("MPagesFinchToggleActions",["csx","$","CSS","MLegacyDataStore","MRequest","MURI","Stratcom"],(function(a,b,c,d,e,f,g,h){"use strict";var i="two-state-action",j="/a/subscriptions/add",k="/a/subscriptions/remove",l="m:page:add-fan",m="m:page:remove-fan",n=function(a,b,d){c("CSS").removeClass(a,"following");c("CSS").removeClass(a,"seefirst");c("CSS").removeClass(a,"follow");if(b=="follow"){a=new(c("MRequest"))(new(c("MURI"))(j)).setData({subject_id:d,forceredirect:!1,location:141});a.send()}else if(b=="following"){a=new(c("MRequest"))(new(c("MURI"))(k)).setData({subject_id:d,forceredirect:!1,location:141});a.send()}},o=function(a,b){a=document.querySelector(a);a!=null&&(document.querySelector(".follow")!=null?n(a,"follow",b):document.querySelector(".following")!=null&&n(a,"following",b))};function a(a,b){c("Stratcom").listen("click",i,function(a){a=a.getNode(i);var e=c("$")(d("MLegacyDataStore").get(a).current_button_id),f=c("$")(d("MLegacyDataStore").get(a).sibling_button_id);a=d("MLegacyDataStore").get(a).event_name;a=="tapped_like_page"?(o(".follow",b),c("Stratcom").invoke(l,null,{page_id:b})):a=="tapped_unlike_page"?(o(".following",b),c("Stratcom").invoke(m,null,{page_id:b})):a=="tapped_save_button"?c("Stratcom").invoke("tapped_save_button",null,null):a=="tapped_unsave_button"&&c("Stratcom").invoke("tapped_unsave_button",null,null);c("CSS").hide(e);c("CSS").show(f)})}function b(a,b,d){c("Stratcom").listen(l,null,function(e){if(e.getData().page_id!=d)return;e=c("$")(a);var f=c("$")(b);c("CSS").hide(e);c("CSS").show(f);o(".follow",d)}),c("Stratcom").listen(m,null,function(e){if(e.getData().page_id!=d)return;e=c("$")(a);var f=c("$")(b);c("CSS").show(e);c("CSS").hide(f);o(".following",d)})}g.setUpListeners=a;g.setUpListenersForLikeSyncing=b}),98);
__d("MPagesFinchUtilities",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){a=document.defaultView.getComputedStyle(a,null).getPropertyValue("line-height");if(!/px$/.test(a))return null;a=parseInt(a,10);return a};a={calculateNumberOfLinesShown:function(a){var b=a.offsetHeight;a=g(a);if(a)return b/a;else return null},calculateNumberOfLinesWithoutTruncation:function(a){var b=a.scrollHeight;a=g(a);if(a)return b/a;else return null},calculateHeightForNumberOfLines:function(a,b){a=g(a);if(a)return a*b;else return null}};e.exports=a}),null);
__d("MPagesNameLengthDetector",["cx","CSS","MPagesFinchUtilities"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){i(a)&&c("CSS").addClass(a,d?"_4dm_":"_3vpv"),i(a)&&c("CSS").addClass(b,"_26ls")}function i(a){var b=Math.round(d("MPagesFinchUtilities").calculateNumberOfLinesWithoutTruncation(a));a=Math.round(d("MPagesFinchUtilities").calculateNumberOfLinesShown(a));return b>a}g.adjustSizeWhenNeeded=a;g.isTextTruncated=i}),98);
__d("MProfileCoverPhoto",["$","ActorURI","CSS","DOM","FWLoader","LoadingIndicator","MCoverPhotoConsts","MLegacyDataStore","MPageController","MRequest","MRequestTypes","MURI","MViewport"],(function(a,b,c,d,e,f){var g=b("FWLoader").FW,h={IOS_CAMERA_CONTROLS_HEIGHT:54,SUB_PROFILE_PIC_OVERLAY_ID:"sub_profile_pic_overlay",userID:null,coverPhotoEventListener:function(a){a.action&&h[a.action](a)},setCoverPhotoTransparent:function(a){b("CSS").conditionClass(b("$")("profile_cover_photo_container"),"notTransparent",!a);var c=b("$")("profile_cover_photo");for(var d=0;d<c.childNodes.length;d++)c.childNodes[d].style.visibility=a?"hidden":"visible";b("CSS").conditionClass(document.body,"tlBody",!a)},getCameraImageHeight:function(){return screen.height-h.IOS_CAMERA_CONTROLS_HEIGHT},setSubProfilePicOverlayVisible:function(a){var c=document.getElementById(h.SUB_PROFILE_PIC_OVERLAY_ID),d=b("$")("sub_profile_pic_content"),e=b("$")("structured_composer_async_container");if(a){b("CSS").conditionClass(e,"decelerateChildren",!0);a=Math.max(window.outerHeight,window.outerWidth)+"px";if(!c){d.style.position="relative";a=b("DOM").create("div",{id:h.SUB_PROFILE_PIC_OVERLAY_ID,style:{top:"0",height:a}});b("DOM").appendContent(d,a)}}else c&&(b("DOM").remove(c),d.style.position="",b("CSS").conditionClass(e,"decelerateChildren",!1))},_getDimensions:function(){var a=b("$")("profile_cover_photo");a=b("MLegacyDataStore").get(a);var c=a.portraitHeight||b("MCoverPhotoConsts").LARGER_COVER_HEIGHT_PORTRAIT;h.pageID&&(c=a.portraitHeight||b("MCoverPhotoConsts").COVER_HEIGHT_PORTRAIT);var d=a.portraitWidth||b("MCoverPhotoConsts").COVER_WIDTH_PORTRAIT;return{landscapeHeight:a.landscapeHeight||b("MCoverPhotoConsts").COVER_HEIGHT_LANDSCAPE,portraitHeight:c,portraitWidth:d}},captureCoverPhoto:function(a){if(!window.FW_ENABLED)return;var b=h._getDimensions(),c=h.pageID?h.pageID:h.userID;g.captureCoverPhoto(c,!0,a,b.portraitHeight,b.landscapeHeight,"require('MProfileCoverPhoto').coverPhotoEventListener")},overlayedOnCamera:function(){h.setCoverPhotoTransparent(!0),h.setSubProfilePicOverlayVisible(!0),b("MViewport").scrollToHeader()},stoppedOverlayingOnCamera:function(){h.setCoverPhotoTransparent(!1),h.setSubProfilePicOverlayVisible(!1)},setCoverPhoto:function(a){if(a.photoSrc){var c=new(b("MURI"))("/a/profile.php").toString();h.pageID&&(c=b("ActorURI").create(new(b("MURI"))("/a/profile.php"),h.pageID));var d=new(b("MRequest"))(c).setType(b("MRequestTypes").DEPENDENT),e=b("DOM").scry(b("$")("profile_cover_photo"),"i","cover-photo")[0];h.getImageDimensions(a,function(a){e?(e.style.backgroundImage=null,b("CSS").conditionClass(e,"coverEditorImg",!0),h.replaceCoverPhoto(a,e)):(b("LoadingIndicator").show(),d.listen("finally",b("MPageController").reload)),a.imageOffset=h.getWWWYOffset(a),h.sendCoverPhotoData(d,a)})}},replaceCoverPhoto:function(a,c){var d=b("DOM").create("img"),e=h._getDimensions(),f=a.width/a.height;e=e.portraitWidth/e.portraitHeight;var g=Math.min(window.innerWidth,window.innerHeight);g=g/e;var i="img",j=0;g=a.imageOffset/g*100;f>e?(i+=" wide",g=0,j=(f-e)/e*100/2):i+=" tall";d.style.left="-"+j+"%";d.style.top=g+"%";d.className=i;d.src=a.photoSrc;b("DOM").setContent(c,d);if(a.photoUrl){f=b("DOM").scry(b("$")("profile_cover_photo"),"a","cover-photo-link")[0];f&&(f.href=a.photoUrl)}},sendCoverPhotoData:function(a,b){var c=h.pageID?h.pageID:h.userID;a.setData({id:c,cpfbid:b.fbid,cpy:b.imageOffset||0});a.send()},getWWWYOffset:function(a){var c,d=a.imageOffset,e=h._getDimensions();a=a.width/a.height;e=e.portraitWidth/e.portraitHeight;var f=(c=b("MCoverPhotoConsts")).WWW_COVER_WIDTH/c.WWW_COVER_HEIGHT;c=c.COVER_WIDTH_PORTRAIT/c.LARGER_COVER_HEIGHT_PORTRAIT;h.pageID&&(c=f);var g=Math.min(window.innerWidth,window.innerHeight);c=g/c;g=g/f;a<e?d-=(c-g)/2:d=0;return d},getImageDimensions:function(a,b){var c=new Image();c.onload=function(){a.width=c.width,a.height=c.height,b(a)};c.src=a.photoSrc}};e.exports=h}),null);
__d("InitMProfileCoverPhoto",["fbt","FWLoader","MModalDialog","MProfileCoverPhoto","Stratcom"],(function(a,b,c,d,e,f,g,h){function a(a){var b="edit-cover-photo";c("MProfileCoverPhoto").userID=a.userID;c("MProfileCoverPhoto").pageID=a.pageID;function e(b){window.FW_ENABLED?(f(),b.prevent()):a.selectionURI&&d("MModalDialog").open(a.selectionURI)}function f(){var b=[];a.selectionURI&&b.push({title:h._(/*FBT_CALL*/"Choisir parmi les photos"/*FBT_CALL*/),callback:"require('MModalDialog').open('"+(a.selectionURI?a.selectionURI:"")+"');"});a.showCoverPhotoTaker&&b.unshift({title:h._(/*FBT_CALL*/"Prendre une photo"/*FBT_CALL*/),callback:"require('MProfileCoverPhoto').captureCoverPhoto(FW.PHOTO_UPLOAD_SOURCE_CAMERA);"});a.showCoverPhotoUploader&&b.push({title:h._(/*FBT_CALL*/"Importer une photo"/*FBT_CALL*/),callback:"require('MProfileCoverPhoto').captureCoverPhoto(FW.PHOTO_UPLOAD_SOURCE_LIBRARY);"});c("FWLoader").FW.showActionSheet(b,null,!1,h._(/*FBT_CALL*/"Changer la photo de couverture"/*FBT_CALL*/))}var g=c("Stratcom").listen("click",b,e);c("Stratcom").listen("m:page:unload",null,function(){g.remove()})}g.main=a}),98);
__d("MOpenable",["CSS","Stratcom"],(function(a,b,c,d,e,f){var g="openable",h="opened",i;function j(a){i=a,b("CSS").conditionClass(i,h,!0)}function k(){i&&(b("CSS").conditionClass(i,h,!1),i=null)}b("Stratcom").listen("touchstart",null,function(a){a.getNode(g)!=i&&k()});b("Stratcom").listen("click",null,function(a){a=a.getNode(g);var b=i;k();a&&a!=b&&j(a)});b("Stratcom").listen("touchcancel",null,k);f.main=function(){}}),null);
__d("MSearchTypeaheadSeeMore",["cx","fbt","DOM","MSearchTypeaheadSeeMoreExperiments"],(function(a,b,c,d,e,f,g,h){var i=20;a=function(){"use strict";function a(){this.$1=this.$2(),this.$3=b("DOM").create("a",{className:"touchable viewMore _2u_r",sigil:"touchable typeahead-result"},[this.$4(),this.$1]),this.$3.isSeeMore=!0}var c=a.prototype;c.$4=function(){return b("DOM").create("div",{className:"_2u_s"},b("DOM").create("i",{className:"_2u_t"}))};c.$2=function(){return b("DOM").create("div",{className:"_2u_u"})};c.show=function(){b("DOM").show(this.$3);return this};c.hide=function(){b("DOM").hide(this.$3);return this};c.setQuery=function(a){this.$3.href="/search/top/?q="+encodeURIComponent(a);b("DOM").setContent(this.$1,this.$5(this.$6(a)));return this};c.injectInto=function(a){var c=b("MSearchTypeaheadSeeMoreExperiments").placement;c==="last"?c=a.length:c=Number(c);a.splice(c,0,this.$3);return this};c.$5=function(a){return b("MSearchTypeaheadSeeMoreExperiments").verbose?h._(/*FBT_CALL*/"Afficher plus de r\u00e9sultats pour {query}"/*FBT_CALL*/,[h._param("query",a)]):a};c.$6=function(a){return a.length>i?a.substr(0,i-3)+"...":a};return a}();e.exports=a}),null);
__d("MSearchTypeahead",["cx","fbt","CSS","DOM","MPageController","MPlaces","MRequest","MSearchTypeaheadSeeMore","MURI","SearchMTouchGlobalOptions","Stratcom","Typeahead","createDeprecatedProperties","eventsMixinDeprecated"],(function(a,b,c,d,e,f,g,h){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e){e=b("DOM").find(c,"div","searchLoadingIndicator");b("DOM").hide(e);d=a.call(this,c,d)||this;d.loadingIndicator=e;d.recentHeader=b("DOM").scry(c,"div","recentSearchesHeader")[0];d.hideRecentHeader();d.PYMKHeader=b("DOM").scry(c,"div","PYMKHeader")[0];d.hidePYMKHeader();d._typeaheadSessionID=null;d._seeMore=new(b("MSearchTypeaheadSeeMore"))().hide();d.uberbarQRPromo=b("DOM").scry(document.body,"*","uberbarQRPromo")[0];b("SearchMTouchGlobalOptions").noSnippet&&b("CSS").addClass(d._root,"nosnippet");b("DOM").listen(d._root,"click","tag:a",function(a){a=a.getNode("tag:a");this.invoke("select",a);this.invoke("result-selected",a)}.bind(babelHelpers.assertThisInitialized(d)));b("DOM").listen(d._control,"focus",null,d.onFocus.bind(babelHelpers.assertThisInitialized(d)));b("Stratcom").listen("m-typeahead-logger:new-session-id",null,function(a){this._typeaheadSessionID||(this._typeaheadSessionID=a.__auto__data.sessionID)}.bind(babelHelpers.assertThisInitialized(d)));b("DOM").listen(d._control,"blur",null,d.stopWatchLocation);return d}var d=c.prototype;d.hide=function(){if(this.getPermanent())return;b("Typeahead").prototype.hide.call(this)};d.setDatasource=function(a){b("Typeahead").prototype.setDatasource.call(this,a),a.listen("complete",this.complete.bind(this)),this.listen("show",this.resultsShown.bind(this))};d.submit=function(){if(this.getValue()!==""){b("Typeahead").prototype.submit.call(this);if(b("SearchMTouchGlobalOptions").enableSeeMore){var a=new(b("MURI"))("/search/").setQueryData({query:this.getValue(),tsid:this._typeaheadSessionID}).toString();this.invoke("on-enter-pressed",a.toString());b("MPageController").forceLoad(a)}this._control.blur()}};d.waitForResults=function(){window.FW_ENABLED?this._root.appendChild(this.loadingIndicator):this._root.insertBefore(this.loadingIndicator,this._root.lastChild),b("DOM").show(this.loadingIndicator)};d.complete=function(){window.FW_ENABLED&&this._display.length===0&&this._root.appendChild(b("DOM").create("div",{className:"noResults"},h._(/*FBT_CALL*/"Aucun r\u00e9sultat"/*FBT_CALL*/))),window.FW_ENABLED&&this.uberbarQRPromo&&(this._root.appendChild(this.uberbarQRPromo),b("DOM").show(this.uberbarQRPromo)),b("DOM").hide(this.loadingIndicator)};d.hideRecentHeader=function(){this.recentHeader&&b("DOM").hide(this.recentHeader)};d.showRecentHeader=function(){this.recentHeader&&b("DOM").show(this.recentHeader)};d.hidePYMKHeader=function(){this.PYMKHeader&&b("DOM").hide(this.PYMKHeader)};d.showPYMKHeader=function(){this.PYMKHeader&&b("DOM").show(this.PYMKHeader)};d.resultsShown=function(a){a=a.show;if(this.getValue().length!==0)this.hideRecentHeader(),this.hidePYMKHeader(),window.FW_ENABLED||b("SearchMTouchGlobalOptions").enableSeeMore&&this._seeMore.setQuery(this.getValue()).injectInto(a).show(),a.push(this.loadingIndicator),b("DOM").show(this.loadingIndicator);else{var c=this.adjustHeaders(a);c>0&&b("CSS").addClass(a[c-1],"jx-result-no-border")}this.showPresence&&this.showPresenceIcons(a);return!0};d.adjustHeaders=function(a){this.removeHeader(a,this.recentHeader);this.removeHeader(a,this.PYMKHeader);var c=-1;for(var d=0;d<a.length;d++){var e=b("DOM").find(a[d],"a");e=JSON.parse(e.getAttribute("data-extra"));if(e.isPYMK){c=d;break}}c>-1?(a.splice(c,0,this.PYMKHeader),this.showPYMKHeader()):this.hidePYMKHeader();c===0?this.hideRecentHeader():this.showRecentHeader();this.PYMKHeader&&b("CSS").conditionClass(this.PYMKHeader,"mSearchTypeaheadHeaderWithBorder",c>0);return c};d.removeHeader=function(a,b){var c;for(var d=0;d<a.length;d++)if(a[d]===b){c=d;break}c!=null&&a.splice(c,1)};d.showPresenceIcons=function(a){var c=[];for(var d=0;d<a.length;++d)a[d].rel&&c.push(a[d].rel);d=new(b("MRequest"))(new(b("MURI"))("/chat/presence_icon.php").toString());d.setData({ids:c});d.listen("done",function(d){if(!d||d.length===0)return;var a=b("DOM").scry(this._root,"a","typeahead-result");for(var c=0;c<a.length;++c)if(d[a[c].rel]===1){var e=b("DOM").find(a[c],"i","presence");b("DOM").show(e)}}.bind(this));d.send()};d.addLocationAwareSource=function(a){b("Stratcom").listen("location-update",null,function(c){a.setAuxiliaryData(Object.assign(a.getAuxiliaryData()||{},{json_location:b("MPlaces").getCurrentJSONLocation()}))})};d.onFocus=function(){this.refresh(),this.startWatchLocation()};d.startWatchLocation=function(){b("MPlaces").shouldUseFWGeolocation()&&b("MPlaces").monitorLocation()};d.stopWatchLocation=function(a){b("MPlaces").clearWatch()};return c}(b("Typeahead"));b("createDeprecatedProperties")(a,{permanent:!1});b("eventsMixinDeprecated")(a,["select","result-selected","on-enter-pressed"]);Object.assign(a.prototype,{icons:null,loadingIndicator:null,uberbarQRPromo:null,showPresence:!1});e.exports=a}),null);
__d("MTypeaheadNativeSource",["FWLoader","MTypeaheadHelpers","Stratcom","TypeaheadInternationalNormalizer","TypeaheadPreloadedSource","createDeprecatedProperties","eventsMixinDeprecated"],(function(a,b,c,d,e,f){var g=b("FWLoader").FW;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.setNormalizer(b("TypeaheadInternationalNormalizer").normalize);return c}var d=c.prototype;d.didStart=function(){var a=this;b("Stratcom").listen("fw-bootstrapped-results-ready",null,function(b){a.invoke("rawresultsready",b.getData().friends),a.ondata(b.getData().friends)});window.FW_ENABLED&&g.bootstrapUsers()};d.ondata=function(a){for(var c=0;c<a.length;++c)a[c].idx=c;b("TypeaheadPreloadedSource").prototype.ondata.apply(this,arguments)};d.sortHits=function(a,b){a=function(a,b){a=this._raw[a];a=isNaN(a.idx)?Number.MAX_VALUE:a.idx;b=this._raw[b];b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;return a-b}.bind(this);b.sort(a)};d.matchResults=function(a){a=this.normalize(a);b("TypeaheadPreloadedSource").prototype.matchResults.call(this,a)};d.createNode=function(a){return b("MTypeaheadHelpers").createNode(a,this.getShowSecondaryAction())};return c}(b("TypeaheadPreloadedSource"));b("eventsMixinDeprecated")(a,["rawresultsready"]);b("createDeprecatedProperties")(a,{transformer:function(a){return{name:a.text,uri:a.path,id:a.uid,photo:a.photo,display:a.display||a.text,action:a.action,paths:a.paths,permissions:a.permissions,bootstrap:a.bootstrap,nativethirdpartyappicon:a.nativethirdpartyappicon}},showSecondaryAction:!0});e.exports=a}),null);
__d("MTypeaheadPackagedSource",["MTypeaheadHelpers","TypeaheadInternationalNormalizer","TypeaheadPreloadedSource","createDeprecatedProperties"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.packagedResults=c;d.setNormalizer(b("TypeaheadInternationalNormalizer").normalize);return d}var d=c.prototype;d.didStart=function(){this.ondata(this.packagedResults)};d.ondata=function(a){for(var c=0;c<a.length;++c)a[c].idx=c;b("TypeaheadPreloadedSource").prototype.ondata.apply(this,arguments)};d.sortHits=function(a,b){a=function(a,b){a=this._raw[a];a=isNaN(a.idx)?Number.MAX_VALUE:a.idx;b=this._raw[b];b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;return a-b}.bind(this);b.sort(a)};d.matchResults=function(a){a=this.normalize(a);b("TypeaheadPreloadedSource").prototype.matchResults.call(this,a)};d.createNode=function(a){return b("MTypeaheadHelpers").createNode(a,this.getShowSecondaryAction())};return c}(b("TypeaheadPreloadedSource"));b("createDeprecatedProperties")(a,{transformer:function(a){return{name:a.text,uri:a.path,id:a.uid,photo:a.photo,display:a.display||a.text,action:a.action,paths:a.paths,permissions:a.permissions,type:a.type,openinnewtab:a.openinnewtab,subtext:a.subtext,bootstrap:a.bootstrap,verified:a.verified,nativethirdpartyappicon:a.nativethirdpartyappicon}},packagedResults:null,showSecondaryAction:!0});e.exports=a}),null);
__d("InitMSearchTypeahead",["$","DOM","FWLoader","MLegacyDataStore","MSearchTypeahead","MSearchTypeaheadLogger","MTypeaheadNativeSource","MTypeaheadNullstateSource","MTypeaheadOnDemandSource","MTypeaheadPackagedSource","MTypeaheadTouchSource","SearchMTouchGlobalOptions","Stratcom","TypeaheadCompositeSource"],(function(a,b,c,d,e,f){var g=b("FWLoader").FW,h,i;c=function(c){if(h)return;h=!0;a=b("$")(c.id);var d=b("$")(c.textinput);d.tagName.toLowerCase()!=="input"&&(d=b("DOM").find(d,"input"));i=new(b("MSearchTypeahead"))(a,d,{photoSize:c.photoSize,reportProblemURI:c.reportProblemURI});c.mSideNavMarauderLogger&&c.mSideNavMarauderLogger.setupTypeaheadListener(i);var e,f=[];c.sources.packagedSource&&(e=new(b("MTypeaheadPackagedSource"))(c.sources.packagedSource.packagedresults),e.setShowSecondaryAction(c.showSecondaryAction),f.push(e));c.sources.nativeSource&&(e=new(b("MTypeaheadNativeSource"))(),e.setShowSecondaryAction(c.showSecondaryAction),f.push(e));c.sources.bootstrapped&&(e=new(b("MTypeaheadTouchSource"))(c.sources.bootstrapped.src,c.sources.bootstrapped.source_key),e.setShowSecondaryAction(c.showSecondaryAction),f.push(e));c.sources.nullstate&&(e=new(b("MTypeaheadNullstateSource"))(c.sources.nullstate.src),e.setMaximumResultCount(c.sources.nullstate.max_results),f.push(e));c.sources.online&&(e=new(b("MTypeaheadOnDemandSource"))(c.sources.online.src),c.sources.online.max_results&&e.setMaximumResultCount(c.sources.online.max_results),e.setEnableImmediateReturnOfCachedResults(c.sources.online.enable_caching),b("SearchMTouchGlobalOptions").enableQueryThrottle&&e.setThrottleSendRequest(b("SearchMTouchGlobalOptions").queryThrottleTime),e.setMaxResults(b("SearchMTouchGlobalOptions").maxResults),e.setEnableEagerSendRequest(b("SearchMTouchGlobalOptions").enableEagerSendRequest),e.setQueryDelay(b("SearchMTouchGlobalOptions").queryWaitTime),e.setShowSecondaryAction(c.showSecondaryAction),f.push(e),c.sources.online.useLocation&&i.addLocationAwareSource(e));e=new(b("TypeaheadCompositeSource"))(f);e.disableEmptyMergeKey();i.setDatasource(e);i.setPermanent(c.permanent);c.showPresence&&(i.showPresence=!0);f="/search/metrics.php";var j=new(b("MSearchTypeaheadLogger"))(i,f);b("Stratcom").listen("log-m-search-session-end",null,function(a){j.blur(a.getData().reason)});b("MLegacyDataStore").get(a).typeahead=i;b("Stratcom").listen("m-search-typeahead-change",null,function(a){a.getData().query!=i.getValue()&&(i.setValue(a.getData().query),i.refresh())});b("DOM").listen(a,"click","typeahead-result",function(){d.blur()});b("Stratcom").listen("m:search-typeahead:clear",null,function(a){i.setValue(""),i.refresh()});b("Stratcom").invoke("m:search-typeahead:ready");i.start();d.value!==""&&i.refresh();window.FW_ENABLED&&g.ubersearchReady()};f.main=c}),null);