if (self.CavalryLogger) { CavalryLogger.start_js(["HdNcyjX"]); }

__d("MSearchOverlay",["$","CSS","DOM","MLegacyDataStore","MLinkHack","MSearchConst","MSearchTrendingLogger","MViewport","Stratcom","URI","Vector","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g;a=function(a){var c=b("$")(a.overlay),d=b("DOM").find(c,"div","typeahead-hardpoint"),e=b("$")(a.textinput),f=a.nullstate,h=a.emptyStatePromo;e.tagName!=="input"&&(e=b("DOM").find(e,"input"));var i=b("MLegacyDataStore").get(d);i.typeahead?j():b("Stratcom").listen("m:search-typeahead:ready",null,j);function j(){var a,j=i.typeahead;(a=b("Stratcom")).listen("m:text-input:clear",null,s);var k,l=!0;function m(){return Math.max(b("Vector").getDim(c).y+b("MViewport").getHeaderHeight(),b("MViewport").getScreenHeight())}function n(){if(!h)return;b("CSS").conditionShow(h,j.getValue().length===0)}function o(a){k=b("MViewport").addHeightConstraint(m()),b("CSS").conditionClass(b("$")("page"),"sideSearchShowing",!0),b("MViewport").scrollToHeader(),n(),f&&j.getValue().length===0&&p(f)}function p(a){var c=a.getElementsByClassName("jx-typeahead-results")[0].getAttribute("data-query"),d=[],e=[];a=a.getElementsByClassName("jx-result");for(var f=0;f<a.length;f++)d.push(a[f].getAttribute("data-topic")),e.push(f+1);b("MSearchTrendingLogger").registerTrendingTopicListeners(d,b("MSearchConst").msite_news_non_gs_null_state,e,c);b("MSearchTrendingLogger").logTrendingTopicImpressions(d,b("MSearchConst").msite_news_non_gs_null_state,e,c)}function q(a){b("CSS").conditionClass(b("$")("page"),"sideSearchShowing",!1),k&&k.release(),k=null}function r(a){b("Stratcom").invoke("log-m-search-session-end",null,{reason:a})}function s(){j.clear(),j.refresh()}function t(){l=!1,s(),u(),n()}function u(){e.blur()}a.listen("m:chrome:tab:show","search",function(a){o(),e.focus()});a.listen("m:chrome:tab:hide","search",function(a){r("cancel"),t(),q()});j.listen("show",function(){b("setTimeoutAcrossTransitions")(function(){k&&k.setValue(m())},0),f&&(j.getValue().length>0?b("DOM").hide(f):b("DOM").show(f)),n()});b("DOM").listen(d,"click","typeahead-result",function(a){var c=b("Stratcom").invoke("m:search-typehead:click",null,a.getNode("typeahead-result")),d=c.getData();b("MLinkHack").safe(d,function(a){a.href=new(g||(g=b("URI")))(a.href).addQueryData("refid",b("MSearchConst").refid)});c.setData(d);c.getPrevented()?(c.getStopped()?a.kill():a.prevent(),u()):(setTimeout(function(){t()},0),q())});j.listen("refresh-viewport",function(){b("Stratcom").context().prevent()});j.listen("choose",function(){b("Stratcom").context().prevent()});c.onclick=function(){e.focus()};b("DOM").listen(c,"touchstart","jx-result",u);b("DOM").listen(e,"focus",null,function(a){l=!0,b("MViewport").scrollToHeader()});j.listen("blur",function(a){l&&a.prevent()});a.listen("m:side-area:hide",null,function(){r("back"),q()})}};f.main=a}),null);
__d("WebdriverDomainLower",["lowerFacebookDomain"],(function(a,b,c,d,e,f){function a(){window.parent!==window&&document.cookie.match(/(^unittest_config=)|(;\s*unittest_config=)/)&&b("lowerFacebookDomain")()}f.lowerDomain=a}),null);
__d("MLifeEventDetailViewButton",["DOM","MMLEEditSession","destroyOnUnload"],(function(a,b,c,d,e,f,g){var h=null;function a(a){i(),h=d("DOM").listen(a,"click",null,function(a){a.kill(),d("MMLEEditSession").openEditDialog(),i()}),c("destroyOnUnload")(i)}function i(){h&&h.remove(),h=null}g.init=a}),98);
__d("MTimelineContextClickLogging",["BanzaiLogger","DOM","MLegacyDataStore","destroyOnUnload"],(function(a,b,c,d,e,f,g){function a(a){a=d("DOM").listen(a,"click","context-item-link",function(a){a=a.getNode("context-item-link");c("BanzaiLogger").log("MTimelineXContextItemsLoggerConfig",d("MLegacyDataStore").get(a))});c("destroyOnUnload")(a.remove.bind(a))}g.init=a}),98);
__d("MRapidReportingNTAnnounce",["MModalDialog","NTAnnounceSubscription","Stratcom"],(function(a,b,c,d,e,f,g){function a(a){d("NTAnnounceSubscription").subscribe(a,function(a){d("MModalDialog").close({goBack:!1,canceled:!0}),c("Stratcom").removeCurrentListener()})}function b(a){d("NTAnnounceSubscription").subscribe(a,function(a){d("MModalDialog").goBack(),c("Stratcom").removeCurrentListener()})}function e(a){d("NTAnnounceSubscription").subscribe(a,function(a){d("MModalDialog").setSpinnerVisibility(!0),c("Stratcom").removeCurrentListener()})}g.closeSubscriber=a;g.backSubscriber=b;g.showLoadingSubscriber=e}),98);
__d("MFundraiserProgress",[],(function(a,b,c,d,e,f){a={ANIMATION_DELAY:2e3,animateProgressbar:function(a,b,c){if(!a){c.style.width="1%";return}var d=a>=b?100:a/b*100;setTimeout(function(){c.style.width=d+"%"},this.ANIMATION_DELAY)}};e.exports=a}),null);
__d("MTwoFacPhoneCountrySelector",["DOM","destroyOnUnload"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.label=d("DOM").find(a,"span","label");this.selector=d("DOM").find(a,"select");this.update();var e=d("DOM").listen(this.selector,"change",null,function(){return b.update()});c("destroyOnUnload")(function(){return e.remove()})}var b=a.prototype;b.update=function(){var a=this.selector.options[this.selector.selectedIndex],b=a.innerText,c=b!=null?b.split("("):null;c&&c.length>1&&(b=c[1].split(")")[0]);d("DOM").setContent(this.label,b||a.textContent)};return a}();g["default"]=a}),98);
__d("MIPadDismissSelect",["MJSEnvironment","Stratcom","getActiveElement"],(function(a,b,c,d,e,f){b("MJSEnvironment").IS_APPLE_WEBKIT_IOS&&b("MJSEnvironment").IS_TABLET&&b("MJSEnvironment").OS_VERSION>=7&&b("Stratcom").listen("m:viewport:orientation-change",null,function(){b("getActiveElement")().tagName==="SELECT"&&document.body.focus()})}),null);